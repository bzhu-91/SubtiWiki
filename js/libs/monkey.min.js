var monkey_user_defs=monkey_user_defs||{},monkey=monkey||{clear:function(e){},isEmpty:function(e){var n=e.split("\n"),r=!0;return n.forEach(function(e){(e=e.trim("' ")).startsWith("*")||(r=!1)}),r},decode:function(s){for(var o=function(e,n){var r=e.keyChain.length-n;if(0<=r){e.keyChain.splice(n-1,r+1),e.cur=e.obj;for(var t=0;t<e.keyChain.length;++t)e.cur=e.cur[e.keyChain[t]];return!0}return-1==r},e=function(e,n,r){var t=function(e){if("*"==(e=e.trim())[0]&&0<=e.indexOf("* ")){var n=e.indexOf("* ")+1;if(0<e.indexOf(": ")&&e.indexOf(": ")!=e.length-2){var r=e.split(": "),t=r[1];return isNaN(Number(t))?"true"==t.toLowerCase()?t=!0:"false"==t.toLowerCase()&&(t=!1):t=Number(t),[0,r[0].substr(n+1),t,n]}return[1,e.substr(n+1),n]}return e.length?(isNaN(Number(e))?"true"==e.toLowerCase()?e=!0:"false"==e.toLowerCase()&&(e=!1):e=Number(e),[2,e]):-1}(n);switch(t[0]){case 0:var a=t[1],i=t[2];if(!o(e,t[3]))throw{message:"structural error",line:r,text:s};if((u=function(e){for(var n=e.obj,r=0;r<e.keyChain.length;++r)n[e.keyChain[r]]||(n[e.keyChain[r]]={}),n=n[e.keyChain[r]];return n}(e))instanceof Array)throw{message:"structural error",line:r,text:s};u[a]=i;break;case 1:a=t[1];if(!o(e,t[2]))return!1;e.keyChain.push(a);break;case 2:var u;i=t[1];if(!((u=function(e){for(var n=e.obj,r=0;r<e.keyChain.length;++r)n[e.keyChain[r]]||(r==e.keyChain.length-1?n[e.keyChain[r]]=[]:n[e.keyChain[r]]={}),n=n[e.keyChain[r]];return n}(e))instanceof Array))throw{message:"structural error",line:r,text:s};u.push(i)}return!0},n={obj:{},keyChain:[]},r=t=s.indexOf("<html>");0<=r;){var t=s.indexOf("</html>",r+1);if(-1==t)throw new Error("html tag not correctly closed");r=(s=s.substr(0,r)+s.substring(r,t+7).replace(/\n/g,"::newline::")+s.substring(t+7)).indexOf("<html>",t+1)}for(var a=s.split("\n"),i=0;i<a.length;i++)if(!e(n,a[i],i))throw new Error(i);var u=JSON.stringify(n.obj);return"{}"==(u=u.replace(/\:\:newline\:\:/g,"\\n"))?null:JSON.parse(u)},encode:function(e){var t=0,a=!1,i="",u=function(e){if(!(e instanceof Function))if(e instanceof Array){t++;for(var n=0;n<e.length;n++)u(e[n]),a=!1;t--}else if(e instanceof Object){for(var r in t++,e)r instanceof Function||e.hasOwnProperty(r)&&(e[r]instanceof Array||e[r]instanceof Object?(a=!1,i+="\n"+Array(t+1).join("*")+" "+r+"\n"):(a=!0,i+="\n"+Array(t+1).join("*")+" "+r),u(e[r]));t--}else i+=a?": "+e+"\n":e+"\n"};return u(e),i},handleReferences:function(e,n,r,t){return'<div id="ref_src"></div>'},parse:function(e){var n={italic:{regex:/''([\u00C0-\u017F\w\s\[\]\|\-\_]{1,})''/g,replace:"<i>$1</i>"},SW:{regex:/\[SW\|([\u00C0-\u017F\w\s\d-\_]+)\]/g,replace:'<a target="_blank" href="http://subtiwiki.uni-goettingen.de/wiki/index.php/$1">$1</a>'},SW1:{regex:/\[SW\|([\u00C0-\u017F\w \-\_]+?)\|([\u00C0-\u017F\w\s\-\_]+?)\]/g,replace:'<a target="_blank" href="http://subtiwiki.uni-goettingen.de/wiki/index.php/$1">$2</a>'},Gene:{regex:/\[Gene\|([\u00C0-\u017F\w\d\-\/]+?)\]/g,replace:'<a target="_blank" href="http://subtiwiki.uni-goettingen.de/bank/index.php?gene=$1">$1</a>'},Gene1:{regex:/\[Gene\|([\u00C0-\u017F\w\d\-\/]+?)\|([\u00C0-\u017F\w\s\-\_]+?)\]/g,replace:'<a target="_blank" href="http://subtiwiki.uni-goettingen.de/bank/index.php?gene=$1">$2</a>'},gene:{regex:/\[gene\|([\u00C0-\u017F\w\d-\/]+?)\]/g,replace:'<a target="_blank" href="http://subtiwiki.uni-goettingen.de/bank/index.php?gene=$1">$1</a>'},gene1:{regex:/\[gene\|([\u00C0-\u017F\w\d-\/]+?)\|([\u00C0-\u017F\w\s\-\_]+?)\]/g,replace:'<a target="_blank" href="http://subtiwiki.uni-goettingen.de/bank/index.php?gene=$1">$2</a>'},pubmed:{regex:/\[PubMed\|([\d,]{4,}?)\]/gi,replace:'<a target="_blank" href="http://www.ncbi.nlm.nih.gov/pubmed/$1"><span class="default_pubmed">PubMed</span></a>'},PDB:{regex:/\[pdb\|([a-z0-9,]{4,}?)\]/gi,replace:'<a target="_blank" href="http://www.rcsb.org/pdb/explore.do?structureId=$1"><span class="default_pdb">PDB</span></a>'},PDB1:{regex:/\[pdb\|([a-z0-9,]{4,}?)\|([\u00C0-\u017F\w\s-\_]+?)\]/gi,replace:'<a target="_blank" href="http://www.rcsb.org/pdb/explore.do?structureId=$1"><span class="default_pubmed">$2</a>'},url:{regex:/\[(https?:[a-z0-9\?=\+\/%\.\-]+?) ([\u00C0-\u017F\w\s\-\_]+?)\]/gi,replace:'<a target="_blank" href="$1">$2</a>'},refs:{regex:/<pubmed>(.+?)<\/pubmed>/gi,replace:monkey.handleReferences}};for(var r in n){var t=n[r];e=e.replace(t.regex,t.replace)}return e},print:function(e){var s=function(e){return e.replace(/\_/g," ")},o=-1,l=!1,f="",c=function(e){var n,r,t,a;if(!(e instanceof Function))if(e instanceof Array){o++;for(var i=0;i<e.length;i++)c(e[i]),l=!1;o--}else if(e instanceof Object){for(var u in o++,e)u instanceof Function||e.hasOwnProperty(u)&&(e[u]instanceof Array||e[u]instanceof Object?(l=!1,f+=(t=s(u),'<p style="margin-left:'+20*(a=o)+'px" class="default_key_'+a+'">'+t+"</p>")):(l=!0,f+=(n=s(u),'<p style="margin-left:'+20*(r=o)+'px"><span class="default_key_'+r+'">'+n+": </span>")),c(e[u]));o--}else f+=l?'<span class="default_value_inline">'+e+"</span></p>":'<p style="margin-left:'+20*o+'px" class="default_value">'+e+"</p>"};return c(e),f=monkey.parse(f)}};